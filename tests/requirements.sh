#!/usr/bin/env bash
set -e # Exit with nonzero exit code if anything fails

install(){

    echo  "Install: $1"
    set +e
    if [ -x  "$(command -v "$1")" ]; then
        printf " (skipped, already installed)\n"
    else

        sudo apt-get install -y "$1" > /dev/null
        printf " (installed)\n"
        # Check if error
        if [[ $? != 0 ]]; then
          printf "\n${RED}Failed to install: $1 (pls let us know!)${NORMAL}\n"
        fi
    fi
    set -e
}

install_requirements() {
    echo ""
    echo "------------------   INSTALL REQUIREMENTS START   ------------------"
    echo ""

    sudo apt-get -qq update

    install "curl"
    install "wget"
    install "crudini"

    echo ""
    echo "------------------   INSTALL REQUIREMENTS DONE   ------------------"
    echo ""

    return $?
}


install_requirements